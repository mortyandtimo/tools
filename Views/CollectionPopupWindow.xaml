<?xml version="1.0" encoding="utf-8"?>
<Window
x:Class="IntelliCoreToolbox.Views.CollectionPopupWindow"
xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="60"/>  <!-- æ ‡é¢˜æ  -->
            <RowDefinition Height="*"/>   <!-- å†…å®¹åŒº -->
            <RowDefinition Height="50"/>  <!-- åº•éƒ¨æŒ‰é’®åŒº -->
        </Grid.RowDefinitions>

        <!-- ðŸŽ¯ æ ‡é¢˜æ  -->
        <Border Grid.Row="0" 
                Background="{ThemeResource SystemControlBackgroundChromeMediumBrush}"
                BorderBrush="{ThemeResource SystemControlForegroundBaseLowBrush}"
                BorderThickness="0,0,0,1">
            <Grid Margin="20,0,20,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- åˆé›†å›¾æ ‡ -->
                <Border Grid.Column="0"
                        x:Name="CollectionIconBorder"
                        Width="32" Height="32"
                        Background="CornflowerBlue"
                        CornerRadius="6"
                        VerticalAlignment="Center"
                        Margin="0,0,12,0">
                    <TextBlock x:Name="CollectionIconText"
                             Text="ðŸŽ¨"
                             HorizontalAlignment="Center"
                             VerticalAlignment="Center"
                             FontSize="16"/>
                </Border>

                <!-- åˆé›†æ ‡é¢˜å’Œåº”ç”¨æ•°é‡ -->
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock x:Name="CollectionNameText"
                             Text="è®¾è®¡å·¥å…·"
                             FontSize="18"
                             FontWeight="SemiBold"
                             Foreground="{ThemeResource SystemControlForegroundBaseHighBrush}"/>
                    <TextBlock x:Name="CollectionCountText"
                             Text="8 ä¸ªåº”ç”¨"
                             FontSize="12"
                             Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                </StackPanel>

                            </Grid>
        </Border>

        <!-- ðŸŽ¯ å†…å®¹åŒºï¼šåº”ç”¨ç½‘æ ¼ -->
<ScrollViewer Grid.Row="1"
VerticalScrollBarVisibility="Auto"
HorizontalScrollBarVisibility="Disabled"
Margin="20,20,0,0">
                         <GridView x:Name="CollectionAppsGridView"
                      SelectionMode="None"
                      ItemClick="CollectionAppsGridView_ItemClick"
                      IsItemClickEnabled="True"
                      SizeChanged="CollectionAppsGridView_SizeChanged"
                      Loaded="CollectionAppsGridView_Loaded">
                 <GridView.ItemsPanel>
                     <ItemsPanelTemplate>
                         <ItemsWrapGrid x:Name="CollectionAppsWrapGrid"
                                       Orientation="Horizontal"
                                       ItemWidth="140"
                                       ItemHeight="160"/>
                     </ItemsPanelTemplate>
                 </GridView.ItemsPanel>

                                 <GridView.ItemTemplate>
                     <DataTemplate>
                         <Border Width="140" Height="160"
                                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                CornerRadius="8"
                                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                BorderThickness="1"
                                Padding="8">
                             <!-- å·¥å…·æç¤º -->
                             <ToolTipService.ToolTip>
                                 <StackPanel>
                                     <TextBlock Text="{Binding Name}" FontWeight="SemiBold"/>
                                     <TextBlock Text="{Binding Description}" FontSize="11"/>
                                 </StackPanel>
                             </ToolTipService.ToolTip>
                             <StackPanel HorizontalAlignment="Center"
                                        VerticalAlignment="Center">
                                 <!-- åº”ç”¨å›¾æ ‡ -->
                                 <Border Width="64" Height="64"
                                        Background="{Binding Background}"
                                        CornerRadius="8"
                                        Margin="0,0,0,8"
                                        HorizontalAlignment="Center">
                                     <FontIcon FontFamily="Segoe MDL2 Assets"
                                              Glyph="{Binding Icon}"
                                              FontSize="32"
                                              Foreground="White"
                                              HorizontalAlignment="Center"
                                              VerticalAlignment="Center"/>
                                 </Border>
                                 
                                 <!-- åº”ç”¨åç§° -->
                                 <TextBlock Text="{Binding Name}"
                                          TextAlignment="Center"
                                          FontSize="12"
                                          TextWrapping="Wrap"
                                          HorizontalAlignment="Center"
                                          Foreground="{ThemeResource SystemControlForegroundBaseHighBrush}"/>
                             </StackPanel>
                         </Border>
                     </DataTemplate>
                 </GridView.ItemTemplate>
            </GridView>
        </ScrollViewer>

        <!-- ðŸŽ¯ åº•éƒ¨æŒ‰é’®åŒº -->
        <Border Grid.Row="2"
                Background="{ThemeResource SystemControlBackgroundChromeMediumLowBrush}"
                BorderBrush="{ThemeResource SystemControlForegroundBaseLowBrush}"
                BorderThickness="0,1,0,0">
            <StackPanel Orientation="Horizontal" 
                       HorizontalAlignment="Right"
                       VerticalAlignment="Center"
                       Margin="20,0,20,0"
                       Spacing="12">
                
                <Button x:Name="EditCollectionButton"
                        Content="ç¼–è¾‘åˆé›†"
                        Style="{StaticResource AccentButtonStyle}"
                        Click="EditCollectionButton_Click"/>
                
                <Button x:Name="CancelButton"
                        Content="å…³é—­"
                        Click="CancelButton_Click"/>
            </StackPanel>
        </Border>
    </Grid>
</Window> 